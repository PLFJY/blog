(()=>{let s={markClass:"mark-highlight",contentSelector:".post-content",skipTags:["pre","code","script","style","textarea","noscript"]};function n(e=document.body){for(var t,e=e.querySelector(s.contentSelector)||e,n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return(e=>{if(e.nodeType!==Node.TEXT_NODE)return 1;let t=e.parentNode;for(;t&&t.nodeType===Node.ELEMENT_NODE;){if(s.skipTags.includes(t.tagName.toLowerCase()))return 1;t=t.parentNode}})(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),o=[];t=n.nextNode();)o.push(t);let r=!1;return o.forEach(e=>{(n=>{var e,t=n.textContent,o=/(^|[^>=])==([^=]+)==([^<]|$)/g;let r=0;for(var c=[];null!==(e=o.exec(t));){e.index>r&&c.push(document.createTextNode(t.substring(r,e.index+e[1].length)));var d=document.createElement("mark");d.className=s.markClass,d.textContent=e[2],c.push(d),r=e.index+e[0].length-e[3].length}if(r<t.length&&c.push(document.createTextNode(t.substring(r))),0<c.length){let t=n.parentNode;return c.forEach(e=>{t.insertBefore(e,n)}),t.removeChild(n),1}})(e)&&(r=!0)}),r}function t(t,n){let o;return function(...e){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),t(...e)},n)}}function o(){var e;n(),void 0!==window.swup&&("function"==typeof(e=window.swup).on?e.on("contentReplaced",t(()=>{console.log("Swup 3.x: Replaced content - processing highlights"),n()},100)):e._handlers&&e._handlers.contentReplaced&&document.addEventListener("swup:contentReplaced",t(()=>{console.log("Swup 2.x: Replaced content - processing highlights"),n()},100)),new MutationObserver(t(e=>{let t=!1;e.forEach(e=>{0<e.addedNodes.length&&(t=!0)}),t&&(console.log("DOM changed - processing highlights"),n())},100)).observe(document.querySelector(".swup")||document.body,{childList:!0,subtree:!0})),window.markdownHighlights={process:n,refresh:o}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),console.log("Markdown highlight script loaded. Use markdownHighlights.process() to refresh.")})();